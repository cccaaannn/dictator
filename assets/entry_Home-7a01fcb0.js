import{a as p,H as L,m as s,_ as r,W as c,n as m,U as f,Z as O,d as T,C as g,b as i,g as R,f as A,N as P}from"./core.min-b4ee58aa.js";import{D as h,A as y,L as V}from"./mui-a5ef9051.js";import{C as w}from"./content-display-type-2beacfce.js";import{T as I}from"./text-content-card-6ff9d7d3.js";import{u as x}from"./useTheme-0c37727c.js";import"./index.qwik-f321ce71.js";import"./index-a2555fc4.js";import"./jsx-runtime-851d10b7.js";import"./createTheme-d96f305b.js";import"./styled-1de36be1.js";import"./useThemeProps-2cefba37.js";import"./GlobalStyles-1f45d569.js";import"./index-863a273a.js";import"./theme-context-1fe45f9e.js";const b=()=>{const[e,o]=p();return[...e.value,...o.recognitionResults.value]},S="DICTATOR_SETTINGS",C=()=>{const e=localStorage.getItem(S);if(console.debug("[Settings] Setting loading",e),!e)return null;const o=JSON.parse(e);return o||null},H=e=>{console.debug("[Settings] Setting saving",e),localStorage.setItem(S,JSON.stringify(e))},E={loadSettings:C,saveSettings:H},M=({track:e})=>{const[o,n,l,t]=p();if(e(()=>l.locale.value),e(()=>o.value),e(()=>t.paletteMode.value),e(()=>n.value),!n.value)return;const _={locale:l.locale.value,contentDisplayType:o.value,paletteMode:t.paletteMode.value};E.saveSettings(_)},N=(e,o)=>{const[n]=p();if(!o||typeof o=="string"){n.locale.value=h;return}n.locale.value=o},K=({track:e})=>{const[o,n]=p();e(()=>n.isRunning.value),n.isRunning.value||(o.value=[...o.value,...n.recognitionResults.value],n.recognitionResults.value=[])},W=()=>{const[e,o,n,l]=p(),t=E.loadSettings();t&&(e.value=t.contentDisplayType,n.locale.value=t.locale,l.paletteMode.value=t.paletteMode),o.value=!0},j=()=>{const[e]=p();e.value=[]},U=L(s(()=>r(()=>import("./entry_ControlButtons-f77b981d.js"),["assets/entry_ControlButtons-f77b981d.js","assets/core.min-b4ee58aa.js","assets/mui-a5ef9051.js","assets/index.qwik-f321ce71.js","assets/index-a2555fc4.js","assets/jsx-runtime-851d10b7.js","assets/createTheme-d96f305b.js","assets/styled-1de36be1.js","assets/useThemeProps-2cefba37.js","assets/GlobalStyles-1f45d569.js","assets/index-863a273a.js","assets/content-display-type-2beacfce.js","assets/useTheme-0c37727c.js","assets/theme-context-1fe45f9e.js"]),"s_NSzCs2iTIOw")),J=()=>{if(window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,!window.SpeechRecognition)return;const e=new SpeechRecognition;return e.maxAlternatives=1,e.interimResults=!0,e.continuous=!0,e.lang=h.value,e};function X(){const e=c([]),o=c(!1),n=c(!1),l=c(!1),t=c(!1),_=c(h),u=c(J()),d=s(()=>r(()=>import("./entry_useSpeechRecognition-b1baf488.js"),["assets/entry_useSpeechRecognition-b1baf488.js","assets/core.min-b4ee58aa.js"]),"s_yB7DAD0tufo",[u]),a=s(()=>r(()=>import("./entry_useSpeechRecognition-b1baf488.js"),["assets/entry_useSpeechRecognition-b1baf488.js","assets/core.min-b4ee58aa.js"]),"s_iGT9jpoakVc",[u]),D=s(()=>r(()=>import("./entry_useSpeechRecognition-b1baf488.js"),["assets/entry_useSpeechRecognition-b1baf488.js","assets/core.min-b4ee58aa.js"]),"s_YcpUnevDOig",[l,d,a]);return m(s(()=>r(()=>import("./entry_useSpeechRecognition-b1baf488.js"),["assets/entry_useSpeechRecognition-b1baf488.js","assets/core.min-b4ee58aa.js"]),"s_01wOR3hvYkk",[u,_])),m(s(()=>r(()=>import("./entry_useSpeechRecognition-b1baf488.js"),["assets/entry_useSpeechRecognition-b1baf488.js","assets/core.min-b4ee58aa.js"]),"s_rUiT0heKLW4",[u,n,o])),m(s(()=>r(()=>import("./entry_useSpeechRecognition-b1baf488.js"),["assets/entry_useSpeechRecognition-b1baf488.js","assets/core.min-b4ee58aa.js"]),"s_SiV0Bqma7Vo",[u,t,l,e]),{strategy:"document-ready"}),{start:d,stop:a,toggle:D,recognitionResults:e,isReady:o,isAvailable:n,isRunning:l,isError:t,locale:_}}const Z=()=>{f();const e=c([]),o=c(w.TEXT),n=c(!1),l=x(),t=X(),_=O(s(()=>r(()=>Promise.resolve().then(()=>v),void 0),"s_gvpRZSG15gA",[e,t])),u=s(()=>r(()=>Promise.resolve().then(()=>v),void 0),"s_8lijs500tO0",[_]),d=s(()=>r(()=>Promise.resolve().then(()=>v),void 0),"s_NJMe9D2wTsw",[e]);return T(s(()=>r(()=>Promise.resolve().then(()=>v),void 0),"s_iWVXWrHJmkE",[e,t])),T(s(()=>r(()=>Promise.resolve().then(()=>v),void 0),"s_mo0HXTZl47U",[o,n,t,l])),T(s(()=>r(()=>Promise.resolve().then(()=>v),void 0),"s_5Y9RoRO0FjM",[o,n,t,l])),t.isReady.value?t.isAvailable.value?g(A,{children:[t.isError.value&&g(y,{children:"An error occurred",severity:"warning",[i]:{severity:i}},3,"K0_2"),g(U,{contentDisplayType:o,get isRunning(){return t.isRunning},get toggleRecognition(){return t.toggle},clearText:d,copyText:u,[i]:{clearText:i,contentDisplayType:i,copyText:i,isRunning:R(a=>a.isRunning,[t]),toggleRecognition:R(a=>a.toggle,[t])}},3,"K0_3"),g(I,{contentDisplayType:o,voiceRecognitionResultList:_,[i]:{contentDisplayType:i,voiceRecognitionResultList:i}},3,"K0_4"),g(V,{get theme(){return l.theme.value},get disabled(){return t.isRunning.value},get value(){return t.locale.value},onChange$:s(()=>r(()=>Promise.resolve().then(()=>v),void 0),"s_NRR280d1SzQ",[t]),get sx(){return{width:{sm:"250px",xs:"200px"}}},[i]:{disabled:R(a=>a.isRunning.value,[t]),onChange$:i,sx:i,theme:R(a=>a.theme.value,[l]),value:R(a=>a.locale.value,[t])}},3,"K0_5")]},1,"K0_6"):g(y,{children:"Speech Recognition is not available on this device",severity:"error",[i]:{severity:i}},3,"K0_1"):g(y,{children:"Loading...",severity:"info",[i]:{severity:i}},3,"K0_0")},k=()=>{const[e]=p();navigator.clipboard.writeText(e.value.map(o=>o.transcript).join(""))},v=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_5Y9RoRO0FjM:M,s_8lijs500tO0:k,s_NJMe9D2wTsw:j,s_NRR280d1SzQ:N,s_XuuTVOkpY0k:Z,s_gvpRZSG15gA:b,s_iWVXWrHJmkE:K,s_mo0HXTZl47U:W},Symbol.toStringTag,{value:"Module"}));export{P as _hW,M as s_5Y9RoRO0FjM,k as s_8lijs500tO0,j as s_NJMe9D2wTsw,N as s_NRR280d1SzQ,Z as s_XuuTVOkpY0k,b as s_gvpRZSG15gA,K as s_iWVXWrHJmkE,W as s_mo0HXTZl47U};
